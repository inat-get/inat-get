<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: INatGet::App::Maintenance
  
    &mdash; INatGet
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "INatGet::App::Maintenance";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../INatGet.html" title="INatGet (module)">INatGet</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../App.html" title="INatGet::App (module)">App</a></span></span>
     &raquo; 
    <span class="title">Maintenance</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: INatGet::App::Maintenance
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/inat-get/app/maintenance.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#db_check-class_method" title="db_check (class method)">.<strong>db_check</strong>(config, continue = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#db_create-class_method" title="db_create (class method)">.<strong>db_create</strong>(config)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#db_migrate-class_method" title="db_migrate (class method)">.<strong>db_migrate</strong>(config)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#db_reset-class_method" title="db_reset (class method)">.<strong>db_reset</strong>(config)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#db_update-class_method" title="db_update (class method)">.<strong>db_update</strong>(config)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#file_based%3F-class_method" title="file_based? (class method)">.<strong>file_based?</strong>(uri)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#info-class_method" title="info (class method)">.<strong>info</strong>(config)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#migrations_path-class_method" title="migrations_path (class method)">.<strong>migrations_path</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="private ">
  <span class="summary_signature">
    
      <a href="#run_migrations-class_method" title="run_migrations (class method)">.<strong>run_migrations</strong>(config, target: nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#show_config-class_method" title="show_config (class method)">.<strong>show_config</strong>(config)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="db_check-class_method">
  
    .<strong>db_check</strong>(config, continue = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inat-get/app/maintenance.rb', line 33</span>

<span class='kw'>def</span> <span class='id identifier rubyid_db_check'>db_check</span> <span class='id identifier rubyid_config'>config</span><span class='comma'>,</span> <span class='id identifier rubyid_continue'>continue</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_connect_string'>connect_string</span> <span class='op'>=</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span> <span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:connect</span>
  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_connect_string'>connect_string</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_file_based?'>file_based?</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
    <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
      <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚ùå \e[1mDatabase file not found:\e[0m </span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ENOENT</span><span class='op'>::</span><span class='const'>Errno</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_db_opts'>db_opts</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>user:</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:user</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>password:</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:password</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_db'>db</span> <span class='op'>=</span> <span class='const'>Sequel</span><span class='period'>.</span><span class='id identifier rubyid_connect'>connect</span> <span class='id identifier rubyid_connect_string'>connect_string</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_db_opts'>db_opts</span>
  <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚ùå \e[1mDB Connection error:\e[0m </span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECONNREFUSED</span><span class='op'>::</span><span class='const'>Errno</span>
  <span class='kw'>end</span>
  <span class='const'>Sequel</span><span class='period'>.</span><span class='id identifier rubyid_extension'>extension</span> <span class='symbol'>:migration</span>
  <span class='id identifier rubyid_migrator'>migrator</span> <span class='op'>=</span> <span class='const'>Sequel</span><span class='op'>::</span><span class='const'>Migrator</span><span class='op'>::</span><span class='id identifier rubyid_migrator_class'>migrator_class</span><span class='lparen'>(</span><span class='id identifier rubyid_migrations_path'>migrations_path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_db'>db</span><span class='comma'>,</span> <span class='id identifier rubyid_migrations_path'>migrations_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_md_ver'>md_ver</span> <span class='op'>=</span> <span class='id identifier rubyid_migrator'>migrator</span><span class='period'>.</span><span class='id identifier rubyid_target'>target</span>
  <span class='id identifier rubyid_db_ver'>db_ver</span> <span class='op'>=</span> <span class='id identifier rubyid_migrator'>migrator</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_md_ver'>md_ver</span> <span class='op'>!=</span> <span class='id identifier rubyid_db_ver'>db_ver</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>üö® \e[1mDatabase is not actual:\e[0m</span><span class='tstring_end'>&quot;</span></span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>    Target version: \e[1m</span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_md_ver'>md_ver</span> <span class='embexpr_end'>}</span><span class='tstring_content'>\e[0m</span><span class='tstring_end'>&quot;</span></span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   Current version: \e[1m</span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_db_ver'>db_ver</span> <span class='embexpr_end'>}</span><span class='tstring_content'>\e[0m</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECANCELED</span><span class='op'>::</span><span class='const'>Errno</span>
  <span class='kw'>end</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_continue'>continue</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚úÖ \e[1mDatabase is actual:\e[0m version \e[1m</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_md_ver'>md_ver</span><span class='embexpr_end'>}</span><span class='tstring_content'>\e[0m</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>NOERROR</span><span class='op'>::</span><span class='const'>Errno</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_db'>db</span><span class='period'>.</span><span class='id identifier rubyid_transaction'>transaction</span><span class='lparen'>(</span><span class='label'>isolation:</span> <span class='symbol'>:committed</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='comment'># –ß–∏—Å—Ç–∏–º –∑–∞–≤–∏—Å—à–∏–µ –∑–∞–ø—Ä–æ—Å—ã
</span>    <span class='id identifier rubyid_db'>db</span><span class='lbracket'>[</span><span class='symbol'>:requests</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='const'>Sequel</span><span class='period'>.</span><span class='op'>|</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>finished:</span> <span class='kw'>nil</span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='const'>Sequel</span><span class='period'>.</span><span class='op'>~</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>busy:</span> <span class='kw'>nil</span> <span class='rbrace'>}</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span>
  <span class='kw'>end</span>
  <span class='const'>Sequel</span><span class='op'>::</span><span class='const'>DATABASES</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:disconnect</span><span class='rparen'>)</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="db_create-class_method">
  
    .<strong>db_create</strong>(config)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inat-get/app/maintenance.rb', line 86</span>

<span class='kw'>def</span> <span class='id identifier rubyid_db_create'>db_create</span> <span class='id identifier rubyid_config'>config</span>
  <span class='id identifier rubyid_connect_string'>connect_string</span> <span class='op'>=</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span> <span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:connect</span>
  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_connect_string'>connect_string</span>
  <span class='id identifier rubyid_db_opts'>db_opts</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>user:</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:user</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>password:</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:password</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_file_based?'>file_based?</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
    <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
      <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚ùå \e[1mDatabase file already exists:\e[0m </span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_path'>path</span> <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>EEXIST</span><span class='op'>::</span><span class='const'>Errno</span>
    <span class='kw'>end</span>
    <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_db'>db</span> <span class='op'>=</span> <span class='const'>Sequel</span><span class='period'>.</span><span class='id identifier rubyid_connect'>connect</span><span class='lparen'>(</span><span class='id identifier rubyid_connect_string'>connect_string</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_db_opts'>db_opts</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_db'>db</span><span class='period'>.</span><span class='id identifier rubyid_disconnect'>disconnect</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚úÖ \e[1mDatabase file created:\e[0m </span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_path'>path</span> <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_db'>db</span> <span class='op'>=</span> <span class='const'>Sequel</span><span class='period'>.</span><span class='id identifier rubyid_connect'>connect</span><span class='lparen'>(</span><span class='id identifier rubyid_connect_string'>connect_string</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_db_opts'>db_opts</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_db'>db</span><span class='period'>.</span><span class='id identifier rubyid_test_connection'>test_connection</span>
      <span class='id identifier rubyid_db'>db</span><span class='period'>.</span><span class='id identifier rubyid_disconnect'>disconnect</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚úÖ \e[1mDatabase connection verified (</span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='embexpr_end'>}</span><span class='tstring_content'>)\e[0m</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚ùå \e[1mCannot connect to database:\e[0m</span><span class='tstring_end'>&quot;</span></span>
      <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   </span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   Please create database manually first</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECONNREFUSED</span><span class='op'>::</span><span class='const'>Errno</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_run_migrations'>run_migrations</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚ùå \e[1mError while creating:\e[0m</span><span class='tstring_end'>&quot;</span></span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>   </span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECANCELED</span><span class='op'>::</span><span class='const'>Errno</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚úÖ \e[1mDatabase successfully created\e[0m</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>NOERROR</span><span class='op'>::</span><span class='const'>Errno</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="db_migrate-class_method">
  
    .<strong>db_migrate</strong>(config)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


76
77
78
79
80
81
82
83
84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inat-get/app/maintenance.rb', line 76</span>

<span class='kw'>def</span> <span class='id identifier rubyid_db_migrate'>db_migrate</span> <span class='id identifier rubyid_config'>config</span>
  <span class='id identifier rubyid_target'>target</span> <span class='op'>=</span> <span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:maintenance_params</span><span class='rbracket'>]</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Integer</span><span class='rparen'>)</span>
    <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚ùå \e[1mVersion must be an integer\e[0m</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECANCELED</span><span class='op'>::</span><span class='const'>Errno</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_run_migration'>run_migration</span> <span class='id identifier rubyid_config'>config</span><span class='comma'>,</span> <span class='label'>target:</span> <span class='id identifier rubyid_target'>target</span>
  <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>NOERROR</span><span class='op'>::</span><span class='const'>Errno</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="db_reset-class_method">
  
    .<strong>db_reset</strong>(config)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inat-get/app/maintenance.rb', line 124</span>

<span class='kw'>def</span> <span class='id identifier rubyid_db_reset'>db_reset</span> <span class='id identifier rubyid_config'>config</span>
  <span class='id identifier rubyid_connect_string'>connect_string</span> <span class='op'>=</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span> <span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:connect</span>
  <span class='id identifier rubyid_db_opts'>db_opts</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>user:</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:user</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>password:</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:password</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='id identifier rubyid_uri'>uri</span> <span class='op'>=</span> <span class='const'>URI</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span> <span class='id identifier rubyid_connect_string'>connect_string</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_file_based?'>file_based?</span><span class='lparen'>(</span><span class='id identifier rubyid_uri'>uri</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>
    <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='rparen'>)</span>
      <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_path'>path</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>üóëÔ∏è  \e[1mDatabase file removed:\e[0m </span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_path'>path</span> <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>begin</span>
      <span class='id identifier rubyid_db'>db</span> <span class='op'>=</span> <span class='const'>Sequel</span><span class='period'>.</span><span class='id identifier rubyid_connect'>connect</span><span class='lparen'>(</span><span class='id identifier rubyid_connect_string'>connect_string</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_db_opts'>db_opts</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_tables'>tables</span> <span class='op'>=</span> <span class='id identifier rubyid_db'>db</span><span class='period'>.</span><span class='id identifier rubyid_tables'>tables</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_tables'>tables</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
        <span class='id identifier rubyid_mysql_mode'>mysql_mode</span> <span class='op'>=</span> <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>mysql</span><span class='regexp_end'>/i</span></span>
        <span class='kw'>if</span> <span class='id identifier rubyid_mysql_mode'>mysql_mode</span>
          <span class='id identifier rubyid_db'>db</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SET FOREIGN_KEY_CHECKS = 0</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_tables'>tables</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_table'>table</span><span class='op'>|</span>
          <span class='id identifier rubyid_db'>db</span><span class='period'>.</span><span class='id identifier rubyid_drop_table'>drop_table</span> <span class='id identifier rubyid_table'>table</span><span class='comma'>,</span> <span class='label'>cascade:</span> <span class='op'>!</span><span class='id identifier rubyid_mysql_mode'>mysql_mode</span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_mysql_mode'>mysql_mode</span>
          <span class='id identifier rubyid_db'>db</span><span class='period'>.</span><span class='id identifier rubyid_execute'>execute</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SET FOREIGN_KEY_CHECKS = 1</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>üóëÔ∏è  \e[1mAll tables dropped (</span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_tables'>tables</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='embexpr_end'>}</span><span class='tstring_content'>):\e[0m </span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_tables'>tables</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚ö†Ô∏è  \e[1mNo tables found in database\e[0m</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_db'>db</span><span class='period'>.</span><span class='id identifier rubyid_disconnect'>disconnect</span>
    <span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚ùå \e[1mError resetting database:\e[0m </span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECONNREFUSED</span><span class='op'>::</span><span class='const'>Errno</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>üîÑ \e[1mRecreating database...\e[0m</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_db_create'>db_create</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="db_update-class_method">
  
    .<strong>db_update</strong>(config)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inat-get/app/maintenance.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_db_update'>db_update</span> <span class='id identifier rubyid_config'>config</span>
  <span class='id identifier rubyid_run_migration'>run_migration</span> <span class='id identifier rubyid_config'>config</span>
  <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>NOERROR</span><span class='op'>::</span><span class='const'>Errno</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="file_based?-class_method">
  
    .<strong>file_based?</strong>(uri)  &#x21d2; <tt>Boolean</tt>  <span class="extras">(private)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inat-get/app/maintenance.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_file_based?'>file_based?</span> <span class='id identifier rubyid_uri'>uri</span>
  <span class='id identifier rubyid_uri'>uri</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sqlite</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="info-class_method">
  
    .<strong>info</strong>(config)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inat-get/app/maintenance.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_info'>info</span> <span class='id identifier rubyid_config'>config</span>
  <span class='comment'># TODO: implement
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="migrations_path-class_method">
  
    .<strong>migrations_path</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(private)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


183
184
185</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inat-get/app/maintenance.rb', line 183</span>

<span class='kw'>def</span> <span class='id identifier rubyid_migrations_path'>migrations_path</span>
  <span class='ivar'>@migrations_path</span> <span class='op'>||=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>../../../share/inat-get/db/migrations/</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run_migrations-class_method">
  
    .<strong>run_migrations</strong>(config, target: nil)  &#x21d2; <tt>Object</tt>  <span class="extras">(private)</span>
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


165
166
167
168
169
170
171
172
173
174
175
176
177</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inat-get/app/maintenance.rb', line 165</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_migrations'>run_migrations</span> <span class='id identifier rubyid_config'>config</span><span class='comma'>,</span> <span class='label'>target:</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_connect_string'>connect_string</span> <span class='op'>=</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span> <span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:connect</span>
  <span class='id identifier rubyid_db_opts'>db_opts</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>user:</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:user</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>password:</span> <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_dig'>dig</span><span class='lparen'>(</span><span class='symbol'>:database</span><span class='comma'>,</span> <span class='symbol'>:password</span><span class='rparen'>)</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='id identifier rubyid_db'>db</span> <span class='op'>=</span> <span class='const'>Sequel</span><span class='period'>.</span><span class='id identifier rubyid_connect'>connect</span><span class='lparen'>(</span><span class='id identifier rubyid_connect_string'>connect_string</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_db_opts'>db_opts</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>target:</span> <span class='id identifier rubyid_target'>target</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span>
  <span class='const'>Sequel</span><span class='op'>::</span><span class='const'>Migrator</span><span class='period'>.</span><span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='id identifier rubyid_db'>db</span><span class='comma'>,</span> <span class='id identifier rubyid_migrations_path'>migrations_path</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_migrator'>migrator</span> <span class='op'>=</span> <span class='const'>Sequel</span><span class='op'>::</span><span class='const'>Migrator</span><span class='period'>.</span><span class='id identifier rubyid_migrator_class'>migrator_class</span><span class='lparen'>(</span><span class='id identifier rubyid_migrations_path'>migrations_path</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_db'>db</span><span class='comma'>,</span> <span class='id identifier rubyid_migrations_path'>migrations_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚úÖ \e[1mDatabase migrated:\e[0m version \e[1m</span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_migrator'>migrator</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span> <span class='embexpr_end'>}</span><span class='tstring_content'>\e[0m</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_db'>db</span><span class='period'>.</span><span class='id identifier rubyid_disconnect'>disconnect</span>
<span class='kw'>rescue</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
  <span class='gvar'>$stderr</span><span class='period'>.</span><span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>‚ùå \e[1mMigration error:\e[0m </span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span> <span class='embexpr_end'>}</span><span class='tstring_content'>\n</span><span class='embexpr_beg'>#{</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_backtrace'>backtrace</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span> <span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECANCELED</span><span class='op'>::</span><span class='const'>Errno</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="show_config-class_method">
  
    .<strong>show_config</strong>(config)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18
19
20
21
22
23
24
25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/inat-get/app/maintenance.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_show_config'>show_config</span> <span class='id identifier rubyid_config'>config</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='symbol'>:maintenance</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='symbol'>:maintenance_params</span>
  <span class='id identifier rubyid_config'>config</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span> <span class='symbol'>:tasks</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:database</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:database</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:password</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_config'>config</span><span class='lbracket'>[</span><span class='symbol'>:database</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:password</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>******</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>üåø \e[1miNatGet Config:\e[0m</span><span class='tstring_end'>&quot;</span></span>
  <span class='const'>YAML</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_config'>config</span><span class='comma'>,</span> <span class='gvar'>$stdout</span><span class='comma'>,</span> <span class='label'>stringify_names:</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>---</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_exit'>exit</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>NOERROR</span><span class='op'>::</span><span class='const'>Errno</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Feb 26 03:17:04 2026 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.38 (ruby-3.4.8).
</div>

    </div>
  </body>
</html>